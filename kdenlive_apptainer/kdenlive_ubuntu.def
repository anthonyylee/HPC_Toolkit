# Kdenlive apptainer
# Anthony Lee 2025-12-13

Bootstrap: docker
From: ubuntu:22.04 # Or another suitable base

%environment
  export PATH="/usr/bin:$PATH"

%post
  apt-get update
  apt-get install -y flatpak
  flatpak remote-add --if-not-exists flathub https://dl.flathub.org/repo/flathub.flatpakrepo
  
  # Install Kdenlive
  flatpak install -vv -y --noninteractive flathub org.kde.kdenlive
  
  # MAYBE? Install dependencies? 
  #apt-get install -y ffmpeg
  
  # Clean up
  apt clean
  rm -rf /var/lib/apt/lists/*

%runscript
    flatpak run org.kde.kdenlive

